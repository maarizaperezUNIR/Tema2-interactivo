<!DOCTYPE html>

<html lang="es"><head><meta charset="utf-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Actividades interactivas — Tema 2 (filtrado)</title><style>
        :root {
            --color-primary: #1E40AF;
            --color-secondary: #3B82F6;
            --color-success: #059669;
            --color-warning: #F59E0B;
            --color-error: #EF4444;
            --color-text: #1F2937;
            --color-text-light: #6B7280;
            --color-bg: #FFFFFF;
            --color-bg-light: #F9FAFB;
            --color-border: #E5E7EB;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .presentation-container {
            max-width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .progress-bar {
            height: 4px;
            background-color: var(--color-bg-light);
            position: relative;
            z-index: 100;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            transition: width 0.3s ease;
            width: 0%;
        }

        .slide-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            position: relative;
            min-height: calc(100vh - 80px);
        }

        .slide {
            display: none;
            width: 100%;
            max-width: 1000px;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }

        .slide.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide h1 {
            font-size: 2.5rem;
            color: var(--color-primary);
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .slide h2 {
            font-size: 2rem;
            color: var(--color-primary);
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .slide h3 {
            font-size: 1.5rem;
            color: var(--color-text);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .slide p {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            line-height: 1.7;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--color-text-light);
            margin-bottom: 2rem;
        }

        .professor-info {
            font-size: 1rem;
            color: var(--color-text-light);
            margin-top: 2rem;
        }

        .objectives-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .objective-item {
            background: var(--color-bg-light);
            padding: 2rem;
            border-radius: 12px;
            border: 2px solid var(--color-border);
            transition: all 0.3s ease;
        }

        .objective-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(30, 64, 175, 0.1);
        }

        .objective-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .interactive-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin: 2rem 0;
        }

        .btn {
            background: var(--color-primary);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            background: var(--color-secondary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(30, 64, 175, 0.3);
        }

        .btn-secondary {
            background: var(--color-bg-light);
            color: var(--color-text);
            border: 2px solid var(--color-border);
        }

        .btn-secondary:hover {
            background: var(--color-border);
        }

        .feedback {
            background: var(--color-success);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            display: none;
        }

        .feedback.show {
            display: block;
        }

        .admin-levels {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin: 2rem 0;
        }

        .level-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-left: 5px solid var(--color-primary);
            transition: transform 0.3s ease;
        }

        .level-card:hover {
            transform: translateY(-5px);
        }

        .level-card.estado {
            border-left-color: var(--color-primary);
        }

        .level-card.ccaa {
            border-left-color: var(--color-success);
        }

        .level-card.municipio {
            border-left-color: var(--color-warning);
        }

        .level-card.centro {
            border-left-color: var(--color-error);
        }

        .level-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .level-functions {
            text-align: left;
            margin-top: 1rem;
        }

        .level-functions li {
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .drag-drop-container {
            display: flex;
            gap: 2rem;
            margin: 2rem 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .draggable-items {
            flex: 1;
            min-width: 300px;
        }

        .drop-zones {
            flex: 1;
            min-width: 300px;
        }

        .draggable-item {
            background: var(--color-bg-light);
            border: 2px solid var(--color-border);
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 8px;
            cursor: move;
            transition: all 0.3s ease;
            user-select: none;
        }

        .draggable-item:hover {
            background: var(--color-secondary);
            color: white;
        }

        .draggable-item.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .drop-zone {
            min-height: 50px;
            border: 2px dashed var(--color-border);
            border-radius: 8px;
            padding: 1rem;
            margin: 0.5rem 0;
            transition: all 0.3s ease;
        }

        .drop-zone.drag-over {
            border-color: var(--color-primary);
            background: rgba(30, 64, 175, 0.1);
        }

        .drop-zone h4 {
            color: var(--color-primary);
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }

        .quiz-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .quiz-question {
            background: var(--color-bg-light);
            padding: 2rem;
            border-radius: 12px;
            margin: 1rem 0;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 1rem 0;
        }

        .quiz-option {
            background: white;
            border: 2px solid var(--color-border);
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .quiz-option:hover {
            border-color: var(--color-primary);
            background: rgba(30, 64, 175, 0.05);
        }

        .quiz-option.selected {
            background: var(--color-primary);
            color: white;
            border-color: var(--color-primary);
        }

        .quiz-option.correct {
            background: var(--color-success);
            border-color: var(--color-success);
            color: white;
        }

        .quiz-option.incorrect {
            background: var(--color-error);
            border-color: var(--color-error);
            color: white;
        }

        .quiz-feedback {
            background: var(--color-bg-light);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            border-left: 4px solid var(--color-success);
        }

        .navigation {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid var(--color-border);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }

        .nav-button {
            background: var(--color-primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background: var(--color-secondary);
        }

        .nav-button:disabled {
            background: var(--color-border);
            cursor: not-allowed;
        }

        .slide-counter {
            font-size: 0.9rem;
            color: var(--color-text-light);
        }

        .spain-map {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
            opacity: 0.3;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: -1;
        }

        .bubbles-container {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin: 2rem 0;
        }

        .bubble {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            padding: 1.5rem;
            border-radius: 50px;
            max-width: 250px;
            animation: float 3s ease-in-out infinite;
        }

        .bubble:nth-child(2) {
            animation-delay: -1s;
        }

        .bubble:nth-child(3) {
            animation-delay: -2s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .pyramid {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            margin: 2rem 0;
        }

        .pyramid-level {
            background: var(--color-primary);
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 200px;
        }

        .pyramid-level:nth-child(1) { width: 80%; background: var(--color-primary); }
        .pyramid-level:nth-child(2) { width: 70%; background: var(--color-success); }
        .pyramid-level:nth-child(3) { width: 60%; background: var(--color-warning); }
        .pyramid-level:nth-child(4) { width: 50%; background: var(--color-error); }

        .pyramid-level:hover {
            transform: scale(1.05);
        }

        .coordination-table {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .coordination-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .coordination-card:hover {
            transform: translateY(-5px);
        }

        .coordination-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .resource-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
        }

        .resource-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }

        .concept-map {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 2rem 0;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .concept-node {
            background: var(--color-primary);
            color: white;
            padding: 1.5rem;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: 600;
            position: relative;
        }

        .concept-arrow {
            font-size: 2rem;
            color: var(--color-primary);
            margin: 0 1rem;
        }

        @media (max-width: 768px) {
            .slide-container {
                padding: 1rem;
            }

            .slide h1 {
                font-size: 2rem;
            }

            .slide h2 {
                font-size: 1.5rem;
            }

            .admin-levels {
                grid-template-columns: 1fr;
            }

            .drag-drop-container {
                flex-direction: column;
            }

            .concept-arrow {
                display: none;
            }
        }

        .score-display {
            background: var(--color-success);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .word-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin: 2rem 0;
        }

        .word-item {
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            font-weight: 600;
            animation: fadeInScale 0.5s ease forwards;
            transform: scale(0);
        }

        .word-item:nth-child(odd) {
            animation-delay: 0.1s;
        }

        .word-item:nth-child(even) {
            animation-delay: 0.2s;
        }

        @keyframes fadeInScale {
            to {
                transform: scale(1);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    
/* Mejoras de accesibilidad y navegación */
.slide[aria-hidden="true"]{display:none}
.slide[aria-hidden="false"]{display:block}
.navigation{position:fixed;left:0;right:0;bottom:0;display:flex;gap:.5rem;justify-content:space-between;align-items:center;background:#fff;border-top:1px solid var(--color-border);padding:.75rem 1rem;z-index:999}
.kbd{font-family:ui-monospace,Menlo,Consolas,monospace;font-size:.85rem;background:var(--color-bg-light);border:1px solid var(--color-border);border-bottom-width:3px;border-radius:6px;padding:.1rem .35rem}
.progress-bar{height:4px;background-color:var(--color-bg-light);position:relative}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--color-primary),var(--color-secondary));transition:width .25s ease;width:0%}
@media print{.navigation,.progress-bar{display:none} .slide{display:block !important;page-break-after:always}}

/* Layout lateral para Actividad Grupal (slide8) */
#slide8 .activity-layout{
  display:flex;
  gap:1rem;
  align-items:flex-start;
}
#slide8 .activity-main{
  flex:1 1 auto;
  min-width:0;
}
#slide8 .activity-aside{
  flex:0 0 240px;
  max-width:240px;
  position: sticky;
  top: 1rem;
  align-self:flex-start;
  background: var(--color-bg-light);
  border:1px solid var(--color-border);
  border-radius:10px;
  padding:0.75rem;
}
#slide8 .activity-aside .btn{
  width:100%;
  display:block;
  margin-bottom:0.5rem;
}
/* En pantallas pequeñas, seguimos manteniendo el botón visible arriba */
@media (max-width: 768px){
  #slide8 .activity-layout{
    flex-direction:column;
  }
  #slide8 .activity-aside{
    position: sticky;
    top: 0.5rem;
    width:100%;
    max-width:none;
    order:-1;
  }
}
</style></head><body><div class="presentation-container"><div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div><div id="slidesWrapper"><div aria-hidden="false" aria-roledescription="diapositiva" class="slide" id="slide4" role="group" tabindex="-1">
<h2>💬 Pregunta de Activación</h2>
<h3>¿Quién decide sobre el currículo, las becas o los horarios escolares?</h3>
<div class="interactive-buttons">
<button class="btn" onclick="showFeedback('Estado', '¡Correcto! El Estado fija las enseñanzas mínimas.')">Estado</button>
<button class="btn" onclick="showFeedback('Comunidad Autónoma', '¡Exacto! Las CCAA desarrollan el currículo y gestionan becas.')">Comunidad Autónoma</button>
<button class="btn" onclick="showFeedback('Municipio', 'Los municipios apoyan con actividades extraescolares.')">Municipio</button>
<button class="btn" onclick="showFeedback('Centro', 'Los centros tienen autonomía organizativa para horarios.')">Centro</button>
</div>
<div class="feedback" id="activationFeedback"></div>
</div><div aria-hidden="true" aria-roledescription="diapositiva" class="slide" id="slide8" role="group" tabindex="-1">





<div class="activity-layout"><div class="activity-main"><h2>🧩 Actividad Grupal</h2><h3>Clasifica estos aspectos según su nivel de decisión:</h3><div class="drag-drop-container">
<div class="draggable-items">
<h4>Aspectos a clasificar:</h4>
<div class="draggable-item" data-correct="Estado" draggable="true">Currículo básico (60%)</div>
<div class="draggable-item" data-correct="Estado" draggable="true">Homologación de títulos</div>
<div class="draggable-item" data-correct="CCAA" draggable="true">Inspección educativa técnica</div>
<div class="draggable-item" data-correct="CCAA" draggable="true">Desarrollo curricular (40%)</div>
<div class="draggable-item" data-correct="Municipio" draggable="true">Mantenimiento de edificios escolares</div>
<div class="draggable-item" data-correct="Municipio" draggable="true">Actividades extraescolares</div>
<div class="draggable-item" data-correct="Centro" draggable="true">Proyecto Educativo del Centro</div>
<div class="draggable-item" data-correct="Estado" draggable="true">Becas y ayudas al estudio</div>
</div>
<div class="drop-zones">
<div class="drop-zone" data-level="Estado">
<h4>🏛️ Estado</h4>
</div>
<div class="drop-zone" data-level="CCAA">
<h4>🏞️ Comunidad Autónoma</h4>
</div>
<div class="drop-zone" data-level="Municipio">
<h4>🏡 Municipio</h4>
</div>
<div class="drop-zone" data-level="Centro">
<h4>🏫 Centro</h4>
</div>
</div>
</div></div><aside class="activity-aside"><button class="btn" onclick="checkDragDropAnswers()">Comprobar respuestas</button><div class="feedback" id="dragDropFeedback"></div><p>Consejo: ordena los elementos y pulsa «Comprobar respuestas».</p></aside></div></div><div aria-hidden="true" aria-roledescription="diapositiva" class="slide" id="slide22" role="group" tabindex="-1">
<h2>🧮 Caso Rápido</h2>
<div style="background: var(--color-bg-light); padding: 2rem; border-radius: 12px; margin: 2rem 0; text-align: left; max-width: 600px; margin-left: auto; margin-right: auto;">
<h3 style="color: var(--color-primary); margin-bottom: 1rem;">Situación:</h3>
<p style="font-size: 1.2rem; margin-bottom: 1.5rem;">Un colegio quiere implantar un <strong>proyecto bilingüe</strong>.</p>
<h3 style="color: var(--color-primary); margin-bottom: 1rem;">Pregunta:</h3>
<p style="font-size: 1.2rem; font-weight: 600;">¿Qué niveles administrativos deben intervenir?</p>
</div>
<button class="btn" onclick="showCaseAnswer()">Ver respuesta</button>
<div class="feedback" id="caseAnswer" style="text-align: left; max-width: 600px; margin: 1rem auto 0;"></div>
</div><div aria-hidden="true" aria-roledescription="diapositiva" class="slide" id="slide23" role="group" tabindex="-1">
<h2>🎯 Mini Test Interactivo</h2>
<div class="quiz-container">
<div class="quiz-question" id="quizQuestion"></div>
<div class="quiz-options" id="quizOptions"></div>
<button class="btn" id="submitAnswer" onclick="submitQuizAnswer()" style="display: none;">Enviar respuesta</button>
<button class="btn" id="nextQuestion" onclick="nextQuizQuestion()" style="display: none;">Siguiente pregunta</button>
<div class="quiz-feedback" id="quizFeedback" style="display: none;"></div>
<div class="score-display" id="quizScore" style="display: none;"></div>
</div>
</div></div><div class="navigation" id="navBar"><button class="nav-button" id="prevBtn">← Anterior</button><div><span id="currentSlide">1</span> / <span id="totalSlides">4</span> <span>  Atajos: </span><span class="kbd">←</span><span class="kbd">→</span>, <span class="kbd">Espacio</span>, <span class="kbd">Inicio/Fin</span></div><button class="nav-button" id="nextBtn">Siguiente →</button></div></div><script>
        // Global variables
        let currentSlideIndex = 1;
        const totalSlides = 26;
        let quizCurrentQuestion = 0;
        let quizScore = 0;
        let selectedAnswer = null;

        // Quiz data
        const quizQuestions = [
            {
                question: "¿Qué órgano garantiza la unidad del sistema educativo español?",
                options: ["Consejo Escolar del Estado", "Alta Inspección", "Conferencia Sectorial", "Inspección Autonómica"],
                correct: 1,
                feedback: "La Alta Inspección es competencia del Estado para garantizar el cumplimiento de la normativa básica y la unidad del sistema educativo."
            },
            {
                question: "¿Qué porcentaje del currículo fija el Estado en CCAA con lengua cooficial?",
                options: ["60%", "50%", "40%", "65%"],
                correct: 1,
                feedback: "En CCAA con lengua cooficial (como Cataluña, País Vasco, Galicia), el Estado fija el 50% del currículo, dejando el otro 50% a las CCAA."
            },
            {
                question: "¿Quién gestiona el profesorado de los centros públicos?",
                options: ["El Ministerio", "Las Comunidades Autónomas", "Los Municipios", "Los propios centros"],
                correct: 1,
                feedback: "Las Comunidades Autónomas gestionan el personal docente, incluyendo oposiciones, contrataciones, traslados y formación."
            },
            {
                question: "¿Qué competencia tienen los municipios en educación?",
                options: ["Fijar el currículo", "Gestionar profesorado", "Mantenimiento de centros", "Homologar títulos"],
                correct: 2,
                feedback: "Los municipios se encargan del mantenimiento y conservación de los edificios escolares de educación infantil y primaria."
            },
            {
                question: "¿Cuál es la función principal del Consejo Escolar del Estado?",
                options: ["Inspeccionar centros", "Participación y asesoramiento", "Gestionar becas", "Formar profesorado"],
                correct: 1,
                feedback: "El Consejo Escolar del Estado es un órgano de participación de los sectores educativos y asesoramiento al Gobierno en materia educativa."
            }
        ];

        // Initialize presentation
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            updateNavigation();
            setupDragAndDrop();
            loadQuizQuestion();
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft') {
                    previousSlide();
                } else if (e.key === 'ArrowRight') {
                    nextSlide();
                }
            });
        });

        function nextSlide() {
            if (currentSlideIndex < totalSlides) {
                document.getElementById(`slide${currentSlideIndex}`).classList.remove('active');
                currentSlideIndex++;
                document.getElementById(`slide${currentSlideIndex}`).classList.add('active');
                updateProgress();
                updateNavigation();
                
                // Reset quiz if entering slide 23
                if (currentSlideIndex === 23) {
                    resetQuiz();
                }
            }
        }

        function previousSlide() {
            if (currentSlideIndex > 1) {
                document.getElementById(`slide${currentSlideIndex}`).classList.remove('active');
                currentSlideIndex--;
                document.getElementById(`slide${currentSlideIndex}`).classList.add('active');
                updateProgress();
                updateNavigation();
            }
        }

        function updateProgress() {
            const progress = (currentSlideIndex / totalSlides) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
            document.getElementById('currentSlide').textContent = currentSlideIndex;
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentSlideIndex === 1;
            nextBtn.disabled = currentSlideIndex === totalSlides;
        }

        function showFeedback(level, message) {
            const feedback = document.getElementById('activationFeedback');
            feedback.textContent = message;
            feedback.classList.add('show');
            
            setTimeout(() => {
                feedback.classList.remove('show');
            }, 3000);
        }

        function showLevelDetails(level) {
            const details = {
                'estado': '🏛️ Estado: Fija las enseñanzas mínimas, homologa títulos y garantiza la igualdad territorial.',
                'ccaa': '🏞️ CCAA: Desarrollan el currículo, gestionan centros y profesorado, y tramitan becas.',
                'municipio': '🏡 Municipios: Mantienen los centros, controlan el absentismo y organizan actividades extraescolares.',
                'centro': '🏫 Centros: Tienen autonomía pedagógica y organizativa, elaboran el PEC y aplican el currículo.'
            };
            
            const feedback = document.getElementById('levelDetails');
            feedback.textContent = details[level];
            feedback.classList.add('show');
        }

        function showCaseAnswer() {
            const answer = document.getElementById('caseAnswer');
            answer.innerHTML = `
                <h4 style="color: var(--color-primary); margin-bottom: 1rem;">Respuesta:</h4>
                <p><strong>Estado:</strong> Debe permitir la enseñanza bilingüe en su normativa básica.</p>
                <p><strong>CCAA:</strong> Autoriza y regula el proyecto bilingüe específico.</p>
                <p><strong>Centro:</strong> Elabora y ejecuta el proyecto pedagógico bilingüe.</p>
                <p><strong>Municipio:</strong> Puede apoyar con recursos adicionales si es necesario.</p>
            `;
            answer.classList.add('show');
        }

        // Drag and Drop functionality
        function setupDragAndDrop() {
            const draggableItems = document.querySelectorAll('.draggable-item');
            const dropZones = document.querySelectorAll('.drop-zone');

            draggableItems.forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
            });

            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });
        }

        let draggedElement = null;

        function handleDragStart(e) {
            draggedElement = this;
            this.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
            draggedElement = null;
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDragEnter(e) {
            e.preventDefault();
            this.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            this.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('drag-over');
            
            if (draggedElement) {
                this.appendChild(draggedElement);
            }
        }

        function checkDragDropAnswers() {
            const dropZones = document.querySelectorAll('.drop-zone');
            let correct = 0;
            let total = 0;
            
            dropZones.forEach(zone => {
                const items = zone.querySelectorAll('.draggable-item');
                const expectedLevel = zone.dataset.level;
                
                items.forEach(item => {
                    total++;
                    if (item.dataset.correct === expectedLevel) {
                        correct++;
                        item.style.background = 'var(--color-success)';
                        item.style.color = 'white';
                    } else {
                        item.style.background = 'var(--color-error)';
                        item.style.color = 'white';
                    }
                });
            });
            
            const feedback = document.getElementById('dragDropFeedback');
            feedback.innerHTML = `Has acertado ${correct} de ${total} respuestas. ${correct === total ? '¡Excelente!' : '¡Sigue practicando!'}`;
            feedback.classList.add('show');
        }

        // Quiz functionality
        function loadQuizQuestion() {
            if (quizCurrentQuestion < quizQuestions.length) {
                const question = quizQuestions[quizCurrentQuestion];
                
                document.getElementById('quizQuestion').innerHTML = `
                    <h3>Pregunta ${quizCurrentQuestion + 1} de ${quizQuestions.length}</h3>
                    <p>${question.question}</p>
                `;
                
                const optionsContainer = document.getElementById('quizOptions');
                optionsContainer.innerHTML = '';
                
                question.options.forEach((option, index) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'quiz-option';
                    optionElement.textContent = option;
                    optionElement.onclick = () => selectQuizOption(index, optionElement);
                    optionsContainer.appendChild(optionElement);
                });
                
                document.getElementById('submitAnswer').style.display = 'none';
                document.getElementById('nextQuestion').style.display = 'none';
                document.getElementById('quizFeedback').style.display = 'none';
                selectedAnswer = null;
            } else {
                showQuizResults();
            }
        }

        function selectQuizOption(index, element) {
            // Remove previous selections
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Select current option
            element.classList.add('selected');
            selectedAnswer = index;
            document.getElementById('submitAnswer').style.display = 'inline-block';
        }

        function submitQuizAnswer() {
            if (selectedAnswer === null) return;
            
            const question = quizQuestions[quizCurrentQuestion];
            const options = document.querySelectorAll('.quiz-option');
            const isCorrect = selectedAnswer === question.correct;
            
            if (isCorrect) {
                quizScore++;
                options[selectedAnswer].classList.add('correct');
            } else {
                options[selectedAnswer].classList.add('incorrect');
                options[question.correct].classList.add('correct');
            }
            
            // Show feedback
            const feedback = document.getElementById('quizFeedback');
            feedback.innerHTML = `
                <p><strong>${isCorrect ? '¡Correcto!' : 'Incorrecto'}</strong></p>
                <p>${question.feedback}</p>
            `;
            feedback.style.display = 'block';
            
            // Disable options
            options.forEach(opt => opt.onclick = null);
            
            document.getElementById('submitAnswer').style.display = 'none';
            document.getElementById('nextQuestion').style.display = 'inline-block';
        }

        function nextQuizQuestion() {
            quizCurrentQuestion++;
            loadQuizQuestion();
        }

        function showQuizResults() {
            const percentage = Math.round((quizScore / quizQuestions.length) * 100);
            
            document.getElementById('quizQuestion').innerHTML = `
                <h3>¡Quiz completado!</h3>
                <p>Has terminado todas las preguntas.</p>
            `;
            
            document.getElementById('quizOptions').innerHTML = '';
            document.getElementById('submitAnswer').style.display = 'none';
            document.getElementById('nextQuestion').style.display = 'none';
            document.getElementById('quizFeedback').style.display = 'none';
            
            const scoreDisplay = document.getElementById('quizScore');
            scoreDisplay.innerHTML = `
                <h3>Tu puntuación: ${quizScore}/${quizQuestions.length} (${percentage}%)</h3>
                <p>${percentage >= 80 ? '¡Excelente trabajo!' : percentage >= 60 ? '¡Bien hecho!' : '¡Sigue estudiando!'}</p>
            `;
            scoreDisplay.style.display = 'block';
        }

        function resetQuiz() {
            quizCurrentQuestion = 0;
            quizScore = 0;
            selectedAnswer = null;
            loadQuizQuestion();
            document.getElementById('quizScore').style.display = 'none';
        }


    </script><script>
(function(){
    const slides = Array.from(document.querySelectorAll('.slide'));
    const total = slides.length;
    const progressFill = document.getElementById('progressFill');
    const currentSpan = document.getElementById('currentSlide');
    const totalSpan = document.getElementById('totalSlides');
    totalSpan.textContent = total;

    let current = parseHash() || 1;
    show(current, false);

    document.getElementById('prevBtn').addEventListener('click', ()=>show(current-1));
    document.getElementById('nextBtn').addEventListener('click', ()=>show(current+1));
    document.addEventListener('keydown', (e)=>{
        if(['ArrowRight','PageDown',' '].includes(e.key)){ e.preventDefault(); show(current+1); }
        if(['ArrowLeft','PageUp'].includes(e.key)){ e.preventDefault(); show(current-1); }
        if(e.key==='Home'){ e.preventDefault(); show(1); }
        if(e.key==='End'){ e.preventDefault(); show(total); }
    });
    window.addEventListener('hashchange', ()=>{
        const idx = parseHash(); if(idx) show(idx);
    });

    function show(n, focus=true){
        n = Math.max(1, Math.min(total, n));
        slides.forEach((s,i)=> s.setAttribute('aria-hidden', (i+1)===n ? 'false' : 'true'));
        const el = slides[n-1];
        if (focus) el.focus({preventScroll:false});
        current = n;
        currentSpan.textContent = String(current);
        document.getElementById('prevBtn').disabled = current===1;
        document.getElementById('nextBtn').disabled = current===total;
        progressFill.style.width = (current/total*100) + '%';
        setHash(n);
    }
    function parseHash(){
        const m = (location.hash||'').match(/slide(\d+)/i);
        return m ? parseInt(m[1],10) : null;
    }
    function setHash(n){ history.replaceState(null,'','#slide'+n); }
})();
</script></body></html>